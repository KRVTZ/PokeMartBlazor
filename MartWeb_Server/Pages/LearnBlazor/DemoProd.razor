@page "/LearnBlazor/demoproduct"
<h3 class="text-primary">Demo Product</h3>

<div class="row border p-3">


    @foreach (var prod in Products)
    {

        <div class=" bg-light card col-4 border m-3 p-3" style="max-width= 18rem;">
            <div class="card-header bg-light">Product - @prod.Id </div>
            <div class="card-body">
                <h5 class="card-title">Name : @prod.Name </h5>
                <p class="card-text">
                    <div class="form-check">
                        <label class="form-check-label" for="flexCheckChecked">Show Properties</label>
                        <input class="form-check-input" type="checkbox" value="" id="checkActive" @bind="@prod.IsActive" @bind:event="oninput" />
                    </div>
                </p>
                @if (prod.IsActive)
                {
                    @foreach (var prop in prod.ProductProperties)
                    {
                        <p class="card-text">@prop.Key : @prop.Value  </p>

                    }
                }


                <div class="" id="buttons">
                    <_EditDeleteButton>
                    </_EditDeleteButton>
                </div>
            </div>
        </div>

    }



</div>
@code {
    List<Demo_Product> Products = new();

    protected override void OnInitialized()
    {
        Products.Add(new()
            {
                Id = 1,
                Name = "Blaziken",
                IsActive = false,
                Price = 15.99,
                ProductProperties = new()
                {
                new Demo_ProductProp { Id = 1, Key = "Edition", Value = "Rose"},
                     new Demo_ProductProp { Id = 2, Key = "Size", Value = "Regular"},
                    new Demo_ProductProp { Id = 3, Key = "Color", Value="Purple" }
                }
            });

        Products.Add(new()
            {
                Id = 2,
                Name = "Lapras",
                IsActive = true,
                Price = 25.99,
                ProductProperties = new()
            {
                new Demo_ProductProp { Id = 2, Key = "Edition", Value = "Classic" },
                new Demo_ProductProp { Id = 1, Key = "Size", Value = "Small" },
                new Demo_ProductProp {Id = 3,Key = "Color",Value = "White"}
            }
            });
    }
}
